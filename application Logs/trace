import logging
import requests

logger=logging.getLogger(__name__)
logger.setLevel(logging.DEBUG)
formatter=logging.Formatter('%(asctime)s-%(levelname)s-%(message)s')
handler=logging.StreamHandler()
handler.setFormatter(formatter)
logger.addHandler(handler)

def get_users():
     endpoint='https://jsonplaceholder.typicode.com/users'
     response=requests.get(endpoint)

     try:
          response.raise_for_status()
     except requests.HTTPError:
          logger.error(f"request to {endpoint} failed with status: {response.status_code}")
          return None
     
     logger.info(f"request to {endpoint} was successful")
     data=response.json()
     logger.debug(f'response data from {endpoint}:{data}')
     return data
                  
     
get_users()
     
